webpackJsonp([1],{"/qCY":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("JZzz");e.default={uploadImage:function(t){return Object(a.a)().post("upload/image",t,{onUploadProgress:function(t){console.log("Upload Progress : "+Math.round(t.loaded/t.total*100)+"%")}})}}},"4jQs":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("JZzz");e.default={fetchProducts:function(){return Object(a.a)().get("products")},addProduct:function(t){return Object(a.a)().post("products",t)},viewProduct:function(t){return Object(a.a)().get("products/"+t,t)},deleteProduct:function(t){return Object(a.a)().delete("products/delete/"+t)},updateProduct:function(t,e){return Object(a.a)().put("products/update/"+e,t)}}},JZzz:function(t,e,i){"use strict";var a=i("mtWM"),s=i.n(a);e.a=function(){return s.a.create({baseURL:"http://localhost:8081"})}},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"ui container"},[e("router-view",{key:this.$route.fullPath})],1)])},staticRenderFns:[]},n=i("VU/8")({name:"App"},s,!1,null,null,null).exports,r=i("/ocq"),o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("Welcome Page")]),this._v(" "),e("a",{attrs:{href:"#/products"}},[this._v("Enter")])])}]};var c=i("VU/8")({name:"WelcomePage",data:function(){return{msg:"Welcome to the Main page"}}},o,!1,function(t){i("PtFv")},"data-v-52802578",null).exports,d=new a.a,u=i("4jQs"),l={name:"products",data:function(){return{products:[],filterName:"",searchByType:!1}},created:function(){var t=this;d.$on("getProducts",function(e){e&&t.getProducts()}),this.getProducts()},mounted:function(){this.getProducts(),$(".ui.checkbox").checkbox()},methods:{getProducts:function(){var t=this;u.default.fetchProducts().then(function(e){return t.products=e.data.products})},viewProduct:function(t){u.default.viewProduct(t).then(function(t){return d.$emit("viewProduct",t.data.product)})}},computed:{filteredProducts:function(){var t=this;return this.products.filter(function(e){return e.title.toLowerCase().indexOf(t.filterName.toLowerCase())>-1})}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"products"},[i("h1",[t._v("Products")]),t._v(" "),i("a",{staticClass:"ui primary button",attrs:{href:"#/newProduct"}},[t._v("Create new")]),t._v(" "),i("h2",[t._v("list of all the products")]),t._v(" "),i("div",{staticClass:"ui form"},[i("div",{staticClass:"inline field"},[i("div",{staticClass:"ui icon input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName,expression:"filterName"}],staticClass:"prompt",attrs:{type:"text",placeholder:"Search by name..."},domProps:{value:t.filterName},on:{input:function(e){e.target.composing||(t.filterName=e.target.value)}}}),t._v(" "),i("i",{staticClass:"search icon"})]),t._v(" "),i("div",{staticClass:"results"})])]),t._v(" "),i("div",{staticClass:"ui divided items"},t._l(t.filteredProducts,function(e){return i("div",{key:e.id,staticClass:"item "},[i("div",{staticClass:"image"},[i("img",{attrs:{src:t.urlServer+"/uploads/image/"+e.image}})]),t._v(" "),i("div",{staticClass:"content"},[i("a",{staticClass:"header",attrs:{href:"#/viewProduct/"+e._id},on:{click:function(i){t.viewProduct(e._id)}}},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"description"},[i("p",[t._v(t._s(e.description))])]),t._v(" "),i("div",{staticClass:"extra"},t._l(e.itemType,function(e){return i("div",{key:e.id,staticClass:"ui label"},[t._v(t._s(e.name))])}))])])}))])},staticRenderFns:[]},m=i("VU/8")(l,p,!1,null,null,null).exports,v=i("QdRR"),f={data:function(){return{typeLists:[],typeName:"",showForm:!1,showAddTransition:"fade",filterName:""}},mounted:function(){this.getType()},methods:{getType:function(){var t=this;v.default.fetchTypes().then(function(e){return t.typeLists=e.data.types})},submitType:function(){var t=this;v.default.addTypes({name:this.typeName}).then(function(e){alert(e.data.message),t.getType(),d.$emit("getTypes",!0)}),this.typeName=""},deleteType:function(t){var e=this;confirm("Are you sure you want to delete this type ?")&&v.default.deleteType(t).then(function(t){console.log(t),e.getType(),d.$emit("getTypes",!0)})},showAddForm:function(){$("#showAddForm").transition("fade")}},computed:{filteredProductsType:function(){var t=this;return this.typeLists.filter(function(e){return e.name.toLowerCase().indexOf(t.filterName.toLowerCase())>-1})}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"ui header"},[t._v("Product Types")]),t._v(" "),i("div",{staticClass:"inline field searchField"},[i("div",{staticClass:"ui icon input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName,expression:"filterName"}],staticClass:"prompt",attrs:{type:"text",placeholder:"Search by name..."},domProps:{value:t.filterName},on:{input:function(e){e.target.composing||(t.filterName=e.target.value)}}}),t._v(" "),i("i",{staticClass:"search icon"})]),t._v(" "),i("div",{staticClass:"results"})]),t._v(" "),i("button",{staticClass:"ui primary button",on:{click:t.showAddForm}},[t._v("Toggle Add form")]),t._v(" "),i("div",{staticClass:"ui form",attrs:{id:"showAddForm"}},[i("h4",{staticClass:"ui dividing header",staticStyle:{"padding-top":"1%"}},[t._v("Enter type name")]),t._v(" "),i("div",{staticClass:"ui field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.typeName,expression:"typeName"}],attrs:{type:"text",id:"typeName"},domProps:{value:t.typeName},on:{input:function(e){e.target.composing||(t.typeName=e.target.value)}}})]),t._v(" "),i("button",{staticClass:"ui green button",on:{click:t.submitType}},[t._v("Create")])]),t._v(" "),i("table",{staticClass:"ui selectable celled table"},[t._m(0),t._v(" "),t._l(t.filteredProductsType,function(e){return i("tbody",{key:e._id},[i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.dateAdded))]),t._v(" "),i("td",{staticStyle:{"text-align":"center"}},[i("a",{attrs:{href:"#"},on:{click:function(i){t.deleteType(e._id)}}},[i("i",{staticClass:"large minus circle icon red"})])])])})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Added")]),this._v(" "),e("th",{staticStyle:{"text-align":"center"}},[this._v("Remove")])])])}]};var _=i("VU/8")(f,h,!1,function(t){i("flXS")},"data-v-e19f9980",null).exports,y=i("/qCY"),g={data:function(){return{selectedImage:!1,imageUploaded:!1}},methods:{onImageSelected:function(t){t.target.files[0]?this.selectedImage=t.target.files[0]:(this.imageUploaded=!1,this.selectedImage=null)},onUpload:function(){var t=this;if(this.selectedImage){var e=new FormData;e.append("image",this.selectedImage,this.selectedImage.name),y.default.uploadImage(e).then(function(e){alert("Image has been uploaded to server"),t.imageUploaded=!0,d.$emit("imageName",t.selectedImage.name)})}else alert("no image has been selected")}}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("input",{ref:"imageInput",attrs:{type:"file",name:"image",id:"",accept:"image/*"},on:{change:t.onImageSelected}}),t._v(" "),i("button",{staticClass:"ui button redBtn",class:{green:t.selectedImage,red:!t.selectedImage},on:{click:function(e){t.$refs.imageInput.click()}}},[t._v("Pick an Image")]),t._v(" "),i("button",{staticClass:"ui button green greenBtn",on:{click:t.onUpload}},[t._v("Upload Image")]),t._v(" "),t.imageUploaded?i("i",{staticClass:"check icon green"}):t._e()])},staticRenderFns:[]};var T=i("VU/8")(g,C,!1,function(t){i("lNPs")},"data-v-1bca085c",null).exports,P=i("4jQs"),b=i("QdRR"),w={name:"NewProduct",data:function(){return{title:"",description:"",itemType:"",typeList:[],errors:[],image:"",price:0}},components:{"manage-type":_,"image-upload":T},mounted:function(){this.getType()},created:function(){var t=this;d.$on("getTypes",function(e){e&&t.getType()}),d.$on("imageName",function(e){e&&(t.image=e)})},methods:{addProduct:function(){var t=this;this.checkForm()&&P.default.addProduct({title:this.title,description:this.description,itemType:this.itemType,image:this.image,price:this.price}).then(function(e){alert(e.data.message),t.getType(),d.$emit("getProducts",!0),t.$router.push({name:"products"})})},getType:function(){var t=this;b.default.fetchTypes().then(function(e){return t.typeList=e.data.types})},manageTypes:function(){$("#manageTypeModal").modal("show")},checkForm:function(){return!!(this.title&&this.description&&this.itemType&&this.image)||(this.errors=[],this.title?this.description?this.itemType?this.image?void 0:(this.errors.push("image required."),!1):(this.errors.push("item type required."),!1):(this.errors.push("Description required."),!1):(this.errors.push("Name of product required."),!1))}}},N={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"products ui center aligned header"},[i("div",{staticClass:"ui form"},[i("h2",{staticClass:"ui dividing header",staticStyle:{"padding-top":"1%"}},[t._v("Add Product")]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"field ui input focus"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",name:"title",placeholder:"Product"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"ui field focus"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{rows:"10",cols:"15",placeholder:"Description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"field"},[i("label",[t._v("Item Type")]),t._v(" "),i("div",{staticClass:"fields"},[i("div",{staticClass:"twelve wide field"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.itemType,expression:"itemType"}],staticClass:"ui  search dropdown",attrs:{name:"type",id:"type",placeholder:"Item Type"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.itemType=e.target.multiple?i:i[0]}}},t._l(t.typeList,function(e){return i("option",{key:e.id,domProps:{value:e.itemType}},[t._v(t._s(e.name))])}))]),t._v(" "),i("div",{staticClass:"four wide field"},[i("button",{staticClass:"ui button manage",on:{click:t.manageTypes}},[t._v("manage types")])])]),t._v(" "),i("div",{staticClass:"fields"},[i("div",{staticClass:"twelve wide field"},[i("div",{staticClass:"ui labeled input"},[i("label",{staticClass:"ui label",attrs:{for:"amount"}},[t._v("â‚±")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"number",placeholder:"Amount",id:"amount"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})])])])]),t._v(" "),i("image-upload"),t._v(" "),i("div",{staticClass:"ui hidden divider"}),t._v(" "),t.errors.length>0?i("div",{staticClass:"ui message red"},[i("ul",{staticClass:"list"},t._l(t.errors,function(e){return i("li",{key:e.id},[t._v(t._s(e))])}))]):t._e(),t._v(" "),i("div",[i("button",{staticClass:"ui button primary",on:{click:t.addProduct}},[t._v("Add")]),t._v(" "),i("a",{staticClass:"ui button black",on:{click:function(e){t.$router.go(-1)}}},[t._v("Back")])])],1),t._v(" "),i("div",{ref:"manageTypeModal",staticClass:"ui modal",attrs:{id:"manageTypeModal"}},[i("i",{staticClass:"close icon"}),t._v(" "),i("div",{staticClass:"ui text container"},[i("manage-type")],1)])])},staticRenderFns:[]};var x=i("VU/8")(w,N,!1,function(t){i("cCUs")},"data-v-d22d8e58",null).exports,k=i("4jQs"),A=i("QdRR"),F={data:function(){return{product:[],typeList:[],editThis:!1}},components:{"manage-type":_},created:function(){var t=this;d.$on("viewProduct",function(e){e&&(t.product=e)}),d.$on("getTypes",function(e){e&&t.getType()})},mounted:function(){this.getType()},methods:{getType:function(){var t=this;A.default.fetchTypes().then(function(e){return t.typeList=e.data.types})},manageTypes:function(){$("#manageTypeModal").modal("show")},deleteProduct:function(t){var e=this;confirm("Are you sure you want to delete this product ?")&&k.default.deleteProduct(t).then(function(t){console.log(t),e.$router.go(-1)})},updateProduct:function(t){var e=this;k.default.updateProduct({title:this.product.title,description:this.product.description,itemType:this.product.itemType},t).then(function(t){alert("Product saved successfully"),e.$router.go(-1)})}}},U={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[0==t.editThis?i("div",[i("h1",[t._v(t._s(t.product.title))]),t._v(" "),i("p",[t._v(t._s(t.product.description))]),t._v(" "),i("a",{staticClass:"ui button black",on:{click:function(e){t.$router.go(-1)}}},[t._v("Back")]),t._v(" "),i("a",{staticClass:"ui button Yellow",on:{click:function(e){t.editThis=!0}}},[t._v("Edit")]),t._v(" "),i("a",{staticClass:"ui red button",on:{click:function(e){t.deleteProduct(t.product._id)}}},[t._v("Delete")])]):t._e(),t._v(" "),1==t.editThis?i("div",[i("div",{staticClass:"editForm ui center aligned header"},[i("div",{staticClass:"ui form"},[i("h2",{staticClass:"ui dividing header",staticStyle:{"padding-top":"1%"}},[t._v("Edit "+t._s(t.product.title))]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"field ui input focus"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.product.title,expression:"product.title"}],attrs:{type:"text",name:"title",placeholder:"Product"},domProps:{value:t.product.title},on:{input:function(e){e.target.composing||t.$set(t.product,"title",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"ui field focus"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],attrs:{rows:"10",cols:"15",placeholder:"Description"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"field"},[i("label",[t._v("Item Type")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.product.itemType,expression:"product.itemType"}],staticClass:"ui  search dropdown",attrs:{name:"type",id:"type",placeholder:"Item Type"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.product,"itemType",e.target.multiple?i:i[0])}}},t._l(t.typeList,function(e){return i("option",{key:e.id,domProps:{value:e.itemType}},[t._v(t._s(e.name))])})),t._v(" "),i("a",{attrs:{href:"#"},on:{click:t.manageTypes}},[t._v("manage types")])]),t._v(" "),i("button",{staticClass:"ui button primary",on:{click:function(e){t.updateProduct(t.product._id)}}},[t._v("Save")]),t._v(" "),i("a",{staticClass:"ui button black",on:{click:function(e){t.$router.go(-1)}}},[t._v("Back")])])]),t._v(" "),i("div",{ref:"manageTypeModal",staticClass:"ui modal",attrs:{id:"manageTypeModal"}},[i("i",{staticClass:"close icon"}),t._v(" "),i("div",{staticClass:"ui text container"},[i("manage-type")],1)])]):t._e()])},staticRenderFns:[]},I=i("VU/8")(F,U,!1,null,null,null).exports,R=i("QdRR"),L={data:function(){return{typeLists:[],typeName:"",showForm:!1,showAddTransition:"fade",filterName:""}},mounted:function(){this.getType()},methods:{getType:function(){var t=this;R.default.fetchTypes().then(function(e){return t.typeLists=e.data.types})},submitType:function(){var t=this;R.default.addTypes({name:this.typeName}).then(function(e){alert(e.data.message),t.getType(),d.$emit("getTypes",!0)}),this.typeName=""},deleteType:function(t){var e=this;confirm("Are you sure you want to delete this type ?")&&R.default.deleteType(t).then(function(t){console.log(t),e.getType(),d.$emit("getTypes",!0)})},showAddForm:function(){$("#showAddForm").transition("fade")}},computed:{filteredProductsType:function(){var t=this;return this.typeLists.filter(function(e){return e.name.toLowerCase().indexOf(t.filterName.toLowerCase())>-1})}}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"ui header"},[t._v("Product Types")]),t._v(" "),i("div",{staticClass:"inline field searchField"},[i("div",{staticClass:"ui icon input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName,expression:"filterName"}],staticClass:"prompt",attrs:{type:"text",placeholder:"Search by name..."},domProps:{value:t.filterName},on:{input:function(e){e.target.composing||(t.filterName=e.target.value)}}}),t._v(" "),i("i",{staticClass:"search icon"})]),t._v(" "),i("div",{staticClass:"results"})]),t._v(" "),i("button",{staticClass:"ui primary button",on:{click:t.showAddForm}},[t._v("Toggle Add form")]),t._v(" "),i("div",{staticClass:"ui form",attrs:{id:"showAddForm"}},[i("h4",{staticClass:"ui dividing header",staticStyle:{"padding-top":"1%"}},[t._v("Enter type name")]),t._v(" "),i("div",{staticClass:"ui field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.typeName,expression:"typeName"}],attrs:{type:"text",id:"typeName"},domProps:{value:t.typeName},on:{input:function(e){e.target.composing||(t.typeName=e.target.value)}}})]),t._v(" "),i("button",{staticClass:"ui green button",on:{click:t.submitType}},[t._v("Create")])]),t._v(" "),i("table",{staticClass:"ui selectable celled table"},[t._m(0),t._v(" "),t._l(t.filteredProductsType,function(e){return i("tbody",{key:e._id},[i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.dateAdded))]),t._v(" "),i("td",{staticStyle:{"text-align":"center"}},[i("a",{attrs:{href:"#"},on:{click:function(i){t.deleteType(e._id)}}},[i("i",{staticClass:"large minus circle icon red"})])])])})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Added")]),this._v(" "),e("th",{staticStyle:{"text-align":"center"}},[this._v("Remove")])])])}]};var E=i("VU/8")(L,S,!1,function(t){i("v7XK")},"data-v-759b6b80",null).exports,j={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"ui icon input"},[e("input",{staticClass:"prompt",attrs:{type:"text",placeholder:"Search animals..."}}),this._v(" "),e("i",{staticClass:"search icon"})]),this._v(" "),e("div",{staticClass:"results"})])}]},O=i("VU/8")(null,j,!1,null,null,null).exports;a.a.use(r.a);var M=new r.a({routes:[{path:"/",name:"Main",component:c},{path:"/products",name:"products",component:m},{path:"/newProduct",name:"newProduct",component:x},{path:"/viewProduct/:id",name:"viewProduct",component:I},{path:"/manageProductTypes",name:"manageProductTypes",component:E},{path:"/imageUpload",name:"imageUpload",component:T},{path:"/search",name:"search",component:O}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:M,components:{App:n},template:"<App/>"}),a.a.prototype.urlServer="http://localhost:8081"},PtFv:function(t,e){},QdRR:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("JZzz");e.default={fetchTypes:function(){return Object(a.a)().get("productTypes")},addTypes:function(t){return Object(a.a)().post("productTypes",t)},deleteType:function(t){return Object(a.a)().delete("productTypes/delete/"+t,t)}}},cCUs:function(t,e){},flXS:function(t,e){},lNPs:function(t,e){},v7XK:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.aae57378916a2d0bfd7f.js.map